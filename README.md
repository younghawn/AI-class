문제 분석
8-Queens 문제란?
8-Queens 문제는 다음과 같은 제약 조건을 만족해야 합니다:

8×8 체스판에 8개의 퀸을 배치합니다.
어떤 두 퀸도 같은 행(row), 열(column), 또는 대각선(diagonal)에 위치할 수 없습니다.
적합도 함수의 이해
이미지에 따르면:

퀸 8개의 모든 가능한 쌍의 수는 
(
8
2
)
=
8
×
7
2
=
28
( 
2
8
​
 )= 
2
8×7
​
 =28입니다.
적합도 함수는 서로 공격하지 않는 퀸 쌍의 수를 기준으로 하며, 이상적인 해답에서는 이 값이 28이 됩니다.
그러나 
ℎ
h (서로 공격하는 퀸 쌍의 수)를 계산하여, 적합도 값을 
28
−
ℎ
28−h로 정의합니다.
목표: 적합도 값을 최대화하여 28에 도달하는 것, 즉 
ℎ
=
0
h=0인 해답을 찾는 것입니다.
이미지의 힌트
슬라이드 제목이 "Lab: 8-queen"이고, 적합도 함수에 대한 논의가 중심입니다.
체스판 다이어그램은 두 퀸이 대각선에서 서로 공격하는 예시를 보여줍니다.
이는 휴리스틱(heuristic) 또는 최적화 알고리즘(예: 유전 알고리즘)을 사용한 접근을 암시합니다.
적합한 알고리즘 선택
8-Queens 문제를 해결하는 데는 여러 알고리즘이 가능하지만, 이미지에서 적합도 함수가 강조된 점을 고려하면 **유전 알고리즘(Genetic Algorithm)**이 가장 적합해 보입니다. 이는 적합도 함수를 활용하여 해답을 점진적으로 개선하는 방식과 잘 맞기 때문입니다. 아래에서 유전 알고리즘을 단계별로 설명하겠습니다.

왜 유전 알고리즘인가?
적합도 함수 활용: 
28
−
ℎ
28−h는 해답의 품질을 수치화하며, 유전 알고리즘은 적합도를 최대화하는 방향으로 진화합니다.
교육적 맥락: "Lab"이라는 제목은 실습 과제를 의미하며, 유전 알고리즘은 AI나 최적화 수업에서 자주 다뤄지는 주제입니다.
복잡한 탐색 공간: 8-Queens 문제는 가능한 배치가 많아 무작위 탐색보다 적합도 기반의 진화적 접근이 효과적일 수 있습니다.
다른 알고리즘(예: 백트래킹)은 효율적이지만, 적합도 함수를 사용하지 않으므로 이미지의 맥락과 덜 부합합니다.

유전 알고리즘 설계
1. 표현 (Representation)
각 해답은 8개의 퀸 위치를 나타내는 **순열(permutation)**로 표현합니다.
배열 
[
𝑐
𝑜
𝑙
0
,
𝑐
𝑜
𝑙
1
,
.
.
.
,
𝑐
𝑜
𝑙
7
]
[col 
0
​
 ,col 
1
​
 ,...,col 
7
​
 ]를 사용하며:
인덱스 
𝑖
i는 행(row)을 나타냅니다 (0부터 7까지).
값 
𝑐
𝑜
𝑙
𝑖
col 
i
​
 는 해당 행의 퀸이 위치한 열(column)을 나타냅니다 (0부터 7까지의 고유한 값).
예: 
[
0
,
4
,
7
,
5
,
2
,
6
,
1
,
3
]
[0,4,7,5,2,6,1,3]는 각 행에 퀸이 서로 다른 열에 배치됨을 의미합니다.
이 표현은 행과 열 충돌을 자동으로 방지하므로, 대각선 충돌만 확인하면 됩니다.
2. 적합도 함수 (Fitness Function)
적합도 함수는 
28
−
ℎ
28−h로 계산합니다.
ℎ
h (공격하는 쌍의 수) 계산:
두 퀸 
(
𝑖
,
𝑐
𝑜
𝑙
𝑖
)
(i,col 
i
​
 )와 
(
𝑗
,
𝑐
𝑜
𝑙
𝑗
)
(j,col 
j
​
 )가 대각선에서 공격하려면 다음 조건을 만족해야 합니다:
∣
𝑖
−
𝑗
∣
=
∣
𝑐
𝑜
𝑙
𝑖
−
𝑐
𝑜
𝑙
𝑗
∣
∣i−j∣=∣col 
i
​
 −col 
j
​
 ∣
모든 쌍 
(
𝑖
,
𝑗
)
(i,j) (단, 
𝑖
<
𝑗
i<j)에 대해 이 조건을 확인하여 
ℎ
h를 카운트합니다.
예시 코드 (Python):
python

접기

자동 줄바꿈

복사
def fitness(perm):
    h = 0
    for i in range(8):
        for j in range(i + 1, 8):
            if abs(i - j) == abs(perm[i] - perm[j]):
                h += 1
    return 28 - h
적합도가 28이면 모든 퀸이 서로 공격하지 않는 해답입니다.
3. 초기화 (Initialization)
초기 개체군(population)을 무작위 순열로 생성합니다.
예: 50개의 순열을 초기 개체군으로 설정.
4. 선택 (Selection)
적합도가 높은 개체를 부모로 선택합니다.
방법: 토너먼트 선택(Tournament Selection) 또는 룰렛 휠 선택(Roulette Wheel Selection).
토너먼트 선택: 무작위로 몇 개의 개체를 뽑아 그중 적합도가 가장 높은 개체를 선택.
28
−
ℎ
28−h는 항상 0 이상이므로 두 방법 모두 가능.
5. 교차 (Crossover)
두 부모 순열로부터 자손을 생성합니다.
순열을 유지하는 교차 연산자 사용:
Partially Mapped Crossover (PMX): 두 부모의 일부를 교환하되, 중복을 방지하며 순열을 유지.
예: 부모1 
[
0
,
1
,
2
,
3
,
4
,
5
,
6
,
7
]
[0,1,2,3,4,5,6,7], 부모2 
[
7
,
6
,
5
,
4
,
3
,
2
,
1
,
0
]
[7,6,5,4,3,2,1,0] → PMX로 자손 생성.
6. 돌연변이 (Mutation)
낮은 확률(예: 0.01)로 순열에 변화를 줍니다.
방법: 두 위치의 값을 교환(swap).
예: 
[
0
,
4
,
7
,
5
,
2
,
6
,
1
,
3
]
[0,4,7,5,2,6,1,3] → 
[
0
,
4
,
1
,
5
,
2
,
6
,
7
,
3
]
[0,4,1,5,2,6,7,3] (7과 1 교환).
이는 순열 속성을 유지합니다.
7. 종료 조건 (Termination)
다음 중 하나를 만족할 때 종료:
적합도 28인 해답을 찾음 (
ℎ
=
0
h=0).
최대 세대 수(예: 1000세대)에 도달.
8. 알고리즘 전체流程
text

접기

자동 줄바꿈

복사
1. 무작위 순열로 초기 개체군 생성
2. 각 개체의 적합도 계산 (28 - h)
3. 반복:
   a. 부모를 선택 (토너먼트 선택)
   b. 교차로 자손 생성 (PMX)
   c. 돌연변이 적용 (swap)
   d. 새 개체군으로 교체
   e. 적합도 28 도달 시 종료
4. 최적 해답 출력
최종 알고리즘 설명
8-Queens 문제를 해결하기 위해 다음과 같은 유전 알고리즘을 제안합니다:

표현: 퀸의 열 위치를 나타내는 [0~7]의 순열.
적합도 함수: 
28
−
ℎ
28−h, 여기서 
ℎ
h는 대각선에서 공격하는 퀸 쌍의 수.
선택: 토너먼트 선택으로 적합도가 높은 개체를 부모로 선택.
교차: PMX를 사용하여 자손 생성.
돌연변이: 두 위치를 교환하여 순열 변형.
종료: 적합도 28 도달 또는 최대 세대 수 초과 시.
이 알고리즘은 이미지에서 제시된 적합도 함수를 활용하여, 모든 퀸이 서로 공격하지 않는 배치를 찾습니다. 예를 들어, 적합도가 28인 순열 
[
1
,
5
,
8
,
6
,
3
,
7
,
2
,
4
]
[1,5,8,6,3,7,2,4] (1부터 8까지 사용 시)는 가능한 해답 중 하나입니다.
